<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Vim搜索跳过匹配项？原因与3种解决方案 | Frank Zhang的个人网站</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="你是否也被 Vim 的 “反常” 给搞懵过？
明明按下 gg 把光标移动到了文件开头位置，使用 / 来搜索行首的字符的时候，Vim 却好像没看见一样，直接跳到了第二个匹配项。
为了选中第一个匹配项，你不得不：狂按 n 让搜索绕回到文件开头，或者先按 G 跳到文件末尾，然后再重新进行搜索。
这样的操作太不符合直觉了，以至于很多人的第一反应都是：“这绝对是 Vim 的 Bug 吧？” 花几个小时去查找资料，最后却一无所获。
问题的核心：这不是 Bug，而是没看懂规则
实际上，这隐藏在 Vim 的普通模式下 / 命令的工作逻辑当中：
/ 命令的搜索范围是：从光标当前位置的下一个字符开始，朝着向前（也就是文件末尾方向）进行搜索。
把之前的操作拆解一下：

gg：光标精准定位在第一行的第一个字符上面。
/搜索语法：Vim 严格遵守规则，从 “光标下一个字符” 开始查找。

结果可想而知：行首那个字符，从一开始就不在搜索范围之内。Vim 自然就会直接去查找第二个匹配项。
同理，? 命令（向后搜索）也是一样的：从光标前一个字符开始，往文件开头的方向进行搜索。
难怪这些操作能够 “歪打正着”
想通了规则，之前的 “怪异” 情况就有了答案：

按 n 能够找到：因为 Vim 默认开启了 wrapscan（环绕搜索），搜索到底部的时候会绕回到开头，自然就能够命中首行。
先按下 G 再使用 / 能够找到：光标在末尾的时候，向前搜索会触发 wrapscan，从开头进行完整扫描，首行匹配项当然就跑不掉了。

3 个优雅的解决方案，告别 “绕路”
既然知道了根源，那就不用再依赖 G &#43; / 或者狂按 n 了。Vim 早就为你准备好了更直接的方法：
方法一：运用 Ex 命令 :/
普通模式的 / 是按照 “光标位置” 来进行搜索的，但是以英文冒号开头的 Ex 命令，是按照 “行” 来进行操作的。它会从当前行的开头开始向下进行搜索，哪怕光标在该行的中间位置，也能够命中行首的匹配项。">
    <meta name="generator" content="Hugo 0.148.2">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/vim%E6%90%9C%E7%B4%A2%E8%B7%B3%E8%BF%87%E5%8C%B9%E9%85%8D%E9%A1%B9/">
    

    <meta property="og:url" content="http://localhost:1313/posts/vim%E6%90%9C%E7%B4%A2%E8%B7%B3%E8%BF%87%E5%8C%B9%E9%85%8D%E9%A1%B9/">
  <meta property="og:site_name" content="Frank Zhang的个人网站">
  <meta property="og:title" content="Vim搜索跳过匹配项？原因与3种解决方案">
  <meta property="og:description" content="你是否也被 Vim 的 “反常” 给搞懵过？ 明明按下 gg 把光标移动到了文件开头位置，使用 / 来搜索行首的字符的时候，Vim 却好像没看见一样，直接跳到了第二个匹配项。
为了选中第一个匹配项，你不得不：狂按 n 让搜索绕回到文件开头，或者先按 G 跳到文件末尾，然后再重新进行搜索。
这样的操作太不符合直觉了，以至于很多人的第一反应都是：“这绝对是 Vim 的 Bug 吧？” 花几个小时去查找资料，最后却一无所获。
问题的核心：这不是 Bug，而是没看懂规则 实际上，这隐藏在 Vim 的普通模式下 / 命令的工作逻辑当中：
/ 命令的搜索范围是：从光标当前位置的下一个字符开始，朝着向前（也就是文件末尾方向）进行搜索。
把之前的操作拆解一下：
gg：光标精准定位在第一行的第一个字符上面。 /搜索语法：Vim 严格遵守规则，从 “光标下一个字符” 开始查找。 结果可想而知：行首那个字符，从一开始就不在搜索范围之内。Vim 自然就会直接去查找第二个匹配项。
同理，? 命令（向后搜索）也是一样的：从光标前一个字符开始，往文件开头的方向进行搜索。
难怪这些操作能够 “歪打正着” 想通了规则，之前的 “怪异” 情况就有了答案：
按 n 能够找到：因为 Vim 默认开启了 wrapscan（环绕搜索），搜索到底部的时候会绕回到开头，自然就能够命中首行。 先按下 G 再使用 / 能够找到：光标在末尾的时候，向前搜索会触发 wrapscan，从开头进行完整扫描，首行匹配项当然就跑不掉了。 3 个优雅的解决方案，告别 “绕路” 既然知道了根源，那就不用再依赖 G &#43; / 或者狂按 n 了。Vim 早就为你准备好了更直接的方法：
方法一：运用 Ex 命令 :/ 普通模式的 / 是按照 “光标位置” 来进行搜索的，但是以英文冒号开头的 Ex 命令，是按照 “行” 来进行操作的。它会从当前行的开头开始向下进行搜索，哪怕光标在该行的中间位置，也能够命中行首的匹配项。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-08T15:35:39+08:00">
    <meta property="article:modified_time" content="2025-08-08T15:35:39+08:00">

  <meta itemprop="name" content="Vim搜索跳过匹配项？原因与3种解决方案">
  <meta itemprop="description" content="你是否也被 Vim 的 “反常” 给搞懵过？ 明明按下 gg 把光标移动到了文件开头位置，使用 / 来搜索行首的字符的时候，Vim 却好像没看见一样，直接跳到了第二个匹配项。
为了选中第一个匹配项，你不得不：狂按 n 让搜索绕回到文件开头，或者先按 G 跳到文件末尾，然后再重新进行搜索。
这样的操作太不符合直觉了，以至于很多人的第一反应都是：“这绝对是 Vim 的 Bug 吧？” 花几个小时去查找资料，最后却一无所获。
问题的核心：这不是 Bug，而是没看懂规则 实际上，这隐藏在 Vim 的普通模式下 / 命令的工作逻辑当中：
/ 命令的搜索范围是：从光标当前位置的下一个字符开始，朝着向前（也就是文件末尾方向）进行搜索。
把之前的操作拆解一下：
gg：光标精准定位在第一行的第一个字符上面。 /搜索语法：Vim 严格遵守规则，从 “光标下一个字符” 开始查找。 结果可想而知：行首那个字符，从一开始就不在搜索范围之内。Vim 自然就会直接去查找第二个匹配项。
同理，? 命令（向后搜索）也是一样的：从光标前一个字符开始，往文件开头的方向进行搜索。
难怪这些操作能够 “歪打正着” 想通了规则，之前的 “怪异” 情况就有了答案：
按 n 能够找到：因为 Vim 默认开启了 wrapscan（环绕搜索），搜索到底部的时候会绕回到开头，自然就能够命中首行。 先按下 G 再使用 / 能够找到：光标在末尾的时候，向前搜索会触发 wrapscan，从开头进行完整扫描，首行匹配项当然就跑不掉了。 3 个优雅的解决方案，告别 “绕路” 既然知道了根源，那就不用再依赖 G &#43; / 或者狂按 n 了。Vim 早就为你准备好了更直接的方法：
方法一：运用 Ex 命令 :/ 普通模式的 / 是按照 “光标位置” 来进行搜索的，但是以英文冒号开头的 Ex 命令，是按照 “行” 来进行操作的。它会从当前行的开头开始向下进行搜索，哪怕光标在该行的中间位置，也能够命中行首的匹配项。">
  <meta itemprop="datePublished" content="2025-08-08T15:35:39+08:00">
  <meta itemprop="dateModified" content="2025-08-08T15:35:39+08:00">
  <meta itemprop="wordCount" content="137">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Vim搜索跳过匹配项？原因与3种解决方案">
  <meta name="twitter:description" content="你是否也被 Vim 的 “反常” 给搞懵过？ 明明按下 gg 把光标移动到了文件开头位置，使用 / 来搜索行首的字符的时候，Vim 却好像没看见一样，直接跳到了第二个匹配项。
为了选中第一个匹配项，你不得不：狂按 n 让搜索绕回到文件开头，或者先按 G 跳到文件末尾，然后再重新进行搜索。
这样的操作太不符合直觉了，以至于很多人的第一反应都是：“这绝对是 Vim 的 Bug 吧？” 花几个小时去查找资料，最后却一无所获。
问题的核心：这不是 Bug，而是没看懂规则 实际上，这隐藏在 Vim 的普通模式下 / 命令的工作逻辑当中：
/ 命令的搜索范围是：从光标当前位置的下一个字符开始，朝着向前（也就是文件末尾方向）进行搜索。
把之前的操作拆解一下：
gg：光标精准定位在第一行的第一个字符上面。 /搜索语法：Vim 严格遵守规则，从 “光标下一个字符” 开始查找。 结果可想而知：行首那个字符，从一开始就不在搜索范围之内。Vim 自然就会直接去查找第二个匹配项。
同理，? 命令（向后搜索）也是一样的：从光标前一个字符开始，往文件开头的方向进行搜索。
难怪这些操作能够 “歪打正着” 想通了规则，之前的 “怪异” 情况就有了答案：
按 n 能够找到：因为 Vim 默认开启了 wrapscan（环绕搜索），搜索到底部的时候会绕回到开头，自然就能够命中首行。 先按下 G 再使用 / 能够找到：光标在末尾的时候，向前搜索会触发 wrapscan，从开头进行完整扫描，首行匹配项当然就跑不掉了。 3 个优雅的解决方案，告别 “绕路” 既然知道了根源，那就不用再依赖 G &#43; / 或者狂按 n 了。Vim 早就为你准备好了更直接的方法：
方法一：运用 Ex 命令 :/ 普通模式的 / 是按照 “光标位置” 来进行搜索的，但是以英文冒号开头的 Ex 命令，是按照 “行” 来进行操作的。它会从当前行的开头开始向下进行搜索，哪怕光标在该行的中间位置，也能够命中行首的匹配项。">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Frank Zhang的个人网站
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l mw8 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Vim搜索跳过匹配项？原因与3种解决方案</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2025-08-08T15:35:39+08:00">August 8, 2025</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h2 id="你是否也被-vim-的-反常-给搞懵过">你是否也被 Vim 的 “反常” 给搞懵过？</h2>
<p>明明按下 <code>gg</code> 把光标移动到了文件开头位置，使用 <code>/</code> 来搜索行首的字符的时候，Vim 却好像没看见一样，直接跳到了第二个匹配项。</p>
<p>为了选中第一个匹配项，你不得不：狂按 <code>n</code> 让搜索绕回到文件开头，或者先按 <code>G</code> 跳到文件末尾，然后再重新进行搜索。</p>
<p>这样的操作太不符合直觉了，以至于很多人的第一反应都是：“这绝对是 Vim 的 Bug 吧？” 花几个小时去查找资料，最后却一无所获。</p>
<h2 id="问题的核心这不是-bug而是没看懂规则">问题的核心：这不是 Bug，而是没看懂规则</h2>
<p>实际上，这隐藏在 Vim 的普通模式下 <code>/</code> 命令的工作逻辑当中：</p>
<p><strong><code>/</code> 命令的搜索范围是：从光标当前位置的下一个字符开始，朝着向前（也就是文件末尾方向）进行搜索。</strong></p>
<p>把之前的操作拆解一下：</p>
<ol>
<li><code>gg</code>：光标精准定位在第一行的第一个字符上面。</li>
<li><code>/搜索语法</code>：Vim 严格遵守规则，从 “光标下一个字符” 开始查找。</li>
</ol>
<p>结果可想而知：行首那个字符，从一开始就不在搜索范围之内。Vim 自然就会直接去查找第二个匹配项。</p>
<p>同理，<code>?</code> 命令（向后搜索）也是一样的：从光标<strong>前一个字符</strong>开始，往文件开头的方向进行搜索。</p>
<h3 id="难怪这些操作能够-歪打正着">难怪这些操作能够 “歪打正着”</h3>
<p>想通了规则，之前的 “怪异” 情况就有了答案：</p>
<ul>
<li><strong>按 <code>n</code> 能够找到</strong>：因为 Vim 默认开启了 <code>wrapscan</code>（环绕搜索），搜索到底部的时候会绕回到开头，自然就能够命中首行。</li>
<li><strong>先按下 <code>G</code> 再使用 <code>/</code> 能够找到</strong>：光标在末尾的时候，向前搜索会触发 <code>wrapscan</code>，从开头进行完整扫描，首行匹配项当然就跑不掉了。</li>
</ul>
<h2 id="3-个优雅的解决方案告别-绕路">3 个优雅的解决方案，告别 “绕路”</h2>
<p>既然知道了根源，那就不用再依赖 <code>G</code> + <code>/</code> 或者狂按 <code>n</code> 了。Vim 早就为你准备好了更直接的方法：</p>
<h3 id="方法一运用-ex-命令-">方法一：运用 Ex 命令 <code>:/</code></h3>
<p>普通模式的 <code>/</code> 是按照 “光标位置” 来进行搜索的，但是以英文冒号开头的 Ex 命令，是按照 “行” 来进行操作的。它会从当前行的开头开始向下进行搜索，哪怕光标在该行的中间位置，也能够命中行首的匹配项。</p>
<p><strong>命令：</strong></p>
<pre tabindex="0"><code>:/pattern
</code></pre><h3 id="方法二全局命令-g一次性列出所有匹配项">方法二：全局命令 <code>:g</code>，一次性列出所有匹配项</h3>
<p>如果想一口气看到所有的结果，而不是逐个进行跳转，<code>:g</code>（global，全局）命令是最佳的选择。</p>
<p><strong>命令：</strong></p>
<pre tabindex="0"><code>:g/pattern/p
</code></pre><p>或者，同时显示行号：</p>
<pre tabindex="0"><code>:g/pattern/#
</code></pre><p>执行之后，整个文件的匹配项会按照行号列出来，哪里有匹配、有多少个，一目了然。</p>
<h3 id="方法三搜索原子-精准锁定文件开头">方法三：搜索原子 <code>\%^</code>，精准锁定文件开头</h3>
<p>如果只关心 “文件第一行” 的匹配情况，使用 <code>\%^</code> 这个 “零宽度原子”，相当于直接告诉 Vim：“我只找文件最开头的这个内容”，精准度拉满。</p>
<p><strong>命令：</strong></p>
<pre tabindex="0"><code>/\%^pattern
</code></pre><h2 id="结论vim-的-怪往往是因为-不懂">结论：Vim 的 “怪”，往往是因为 “不懂”</h2>
<p>这个看似 “Bug” 的搜索行为，实际上是 Vim 设计哲学的体现 —— 精准、高效。从 <code>gg</code> + <code>/</code> 的困惑，到 <code>G</code> + <code>/</code> 的变通，再到 <code>:/</code> 和 <code>\%^</code> 的熟练使用，解决的不只是一个小问题，更是对 Vim 不同模式命令差异的理解。</p>
<p>下次遇到 Vim 的 “怪异” 情况时，不妨先问自己：</p>
<p>“这真的是 Bug，还是我没发现的 Feature（特性）？”</p>
<p>答案，往往就在后者当中。</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  Frank Zhang的个人网站 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
